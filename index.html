<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APM Portal - League Strategy Hub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-icon">üè†</div>
            <h2>APM PORTAL</h2>
            <p>Loading your strategy hub...</p>
            <div class="loading-spinner"></div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="auth-modal hidden">
        <div class="auth-content">
            <button class="auth-close" onclick="closeAuthModal()">√ó</button>
            
            <!-- Login Form -->
            <div id="login-form" class="auth-form">
                <div class="auth-header">
                    <h2>Welcome Back</h2>
                    <p>Sign in to access your team strategy hub</p>
                </div>
                
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="login-email" class="form-input" required autocomplete="username">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="login-password" class="form-input" required autocomplete="current-password">
                    </div>
                    
                    <button type="submit" class="btn btn-primary auth-btn">Sign In</button>
                </form>
                
                <div class="auth-divider">
                    <span>or</span>
                </div>
                
                <button onclick="signInWithGoogle()" class="btn btn-google">
                    <span>üîµ</span> Continue with Google
                </button>
                
                <p class="auth-switch">
                    Don't have an account? 
                    <button onclick="showRegister()" class="link-btn">Sign up here</button>
                </p>
            </div>
            
            <!-- Register Form -->
            <div id="register-form" class="auth-form hidden">
                <div class="auth-header">
                    <h2>Join APM Esports</h2>
                    <p>Create your account to access the strategy hub</p>
                </div>
                
                <form onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label class="form-label">Display Name</label>
                        <input type="text" id="register-name" class="form-input" required autocomplete="name">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="register-email" class="form-input" required autocomplete="email">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="register-password" class="form-input" required minlength="6" autocomplete="new-password">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" id="register-confirm" class="form-input" required minlength="6" autocomplete="new-password">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Role (Optional)</label>
                        <select id="register-role" class="form-input">
                            <option value="">Select your main role</option>
                            <option value="top">Top</option>
                            <option value="jungle">Jungle</option>
                            <option value="mid">Mid</option>
                            <option value="adc">ADC</option>
                            <option value="support">Support</option>
                            <option value="coach">Coach</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary auth-btn">Create Account</button>
                </form>
                
                <div class="auth-divider">
                    <span>or</span>
                </div>
                
                <button onclick="signInWithGoogle()" class="btn btn-google">
                    <span>üîµ</span> Continue with Google
                </button>
                
                <p class="auth-switch">
                    Already have an account? 
                    <button onclick="showLogin()" class="link-btn">Sign in here</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-container" class="app-container hidden">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="#" class="logo" onclick="showPage('dashboard')">APM PORTAL</a>
                <div class="logo-subtitle">League Strategy Hub</div>
            </div>

            <div class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <a href="#" class="nav-item active" onclick="showPage('dashboard')" data-page="dashboard">
                        üè† Dashboard
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Learning</div>
                    <a href="#" class="nav-item" onclick="showPage('tempo')" data-page="tempo">
                        ‚ö° Tempo
                    </a>
                    <a href="#" class="nav-item" onclick="showPage('turns')" data-page="turns">
                        üéØ Turns & Rounds
                    </a>
                    <a href="#" class="nav-item" onclick="showPage('action-waves')" data-page="action-waves">
                        üìä Action Waves
                    </a>
                    <a href="#" class="nav-item" onclick="showPage('action-plan')" data-page="action-plan">
                        ‚úÖ 5-Step Plan
                    </a>
                    <a href="#" class="nav-item" onclick="showPage('weekly')" data-page="weekly">
                        üìÖ Weekly Focus
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Tools</div>
                    <a href="#" class="nav-item" onclick="showPage('draft')" data-page="draft">
                        üé≠ Draft Tool
                    </a>
                    <a href="#" class="nav-item" onclick="showPage('calculator')" data-page="calculator">
                        üßÆ Wave Calculator
                    </a>
                </div>
            </div>

            <div class="sidebar-footer">
                <div class="user-info">
                    <img id="sidebar-avatar" class="user-avatar" src="" alt="User">
                    <div class="user-details">
                        <div class="user-name" id="sidebar-username">Loading...</div>
                        <div class="user-role" id="sidebar-role">Player</div>
                    </div>
                </div>
                <div class="sidebar-actions">
                    <button class="sidebar-btn" onclick="showProfile()">Settings</button>
                    <button class="sidebar-btn" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="breadcrumb">
                    <span>APM PORTAL</span> > <span class="breadcrumb-current" id="current-page-name">Dashboard</span>
                </div>
                <div class="header-actions">
                    <button class="notification-btn" onclick="showNotifications()">üîî</button>
                    <button class="notification-btn" onclick="toggleSidebar()">‚ò∞</button>
                </div>
            </header>

            <div class="content-wrapper">
                <!-- Page Content -->
                <main class="page-content">
                    <!-- Dashboard Page -->
                    <div id="dashboard-page" class="page">
                        <div class="space-y-8">
                            <!-- User Welcome -->
                            <div id="user-welcome" class="user-welcome hidden">
                                <h2>Welcome back, <span id="welcome-name"></span>!</h2>
                                <p>Ready to master your League strategy?</p>
                            </div>

                            <!-- Dashboard Hero -->
                            <div class="dashboard-hero">
                                <h1>APM ESPORT : LEAGUE TEAM WIKI</h1>
                                <p>All the essentials for the APM League of legend program by coach Gerrah</p>
                                <div class="hero-features">
                                    <div class="hero-feature">
                                        <span>üë•</span>
                                        <span>Team Coordination</span>
                                    </div>
                                    <div class="hero-feature">
                                        <span>üéØ</span>
                                        <span>Macro Strategy</span>
                                    </div>
                                    <div class="hero-feature">
                                        <span>üèÜ</span>
                                        <span>Competitive Edge</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Access Cards -->
                            <div class="dashboard-grid">
                                <div class="dashboard-card" onclick="showPage('tempo')">
                                    <div class="card-header">
                                        <div class="card-icon">üìö</div>
                                        <div class="card-title">Learning Path</div>
                                    </div>
                                    <div class="card-description">
                                        Master the Tempo, Turns & Action Waves framework with our structured learning modules.
                                    </div>
                                    <button class="card-action">Start Learning</button>
                                </div>

                                <div class="dashboard-card" onclick="showPage('draft')">
                                    <div class="card-header">
                                        <div class="card-icon">üõ†Ô∏è</div>
                                        <div class="card-title">Strategy Tools</div>
                                    </div>
                                    <div class="card-description">
                                        Access collaborative drafting tools and wave calculators for your team preparation.
                                    </div>
                                    <button class="card-action">Open Tools</button>
                                </div>

                                <div class="dashboard-card" onclick="showPage('weekly')">
                                    <div class="card-header">
                                        <div class="card-icon">üìà</div>
                                        <div class="card-title">Weekly Progress</div>
                                    </div>
                                    <div class="card-description">
                                        Track your learning progress through our 6-week structured program.
                                    </div>
                                    <button class="card-action">View Progress</button>
                                </div>
                            </div>

                            <!-- Quick Learning Modules -->
                            <h2 style="color: #f0e6d2; margin-bottom: 1.5rem;">Learning Modules</h2>
                            <div class="learning-grid">
                                <div class="learning-card" onclick="showPage('tempo')">
                                    <h3>‚ö° Tempo Fundamentals</h3>
                                    <p>Learn to control game pacing and initiative</p>
                                </div>
                                <div class="learning-card" onclick="showPage('turns')">
                                    <h3>üéØ Turns & Rounds</h3>
                                    <p>Master lane priority and timing windows</p>
                                </div>
                                <div class="learning-card" onclick="showPage('action-waves')">
                                    <h3>üìä Action Waves</h3>
                                    <p>Coordinate team plays with minion waves</p>
                                </div>
                                <div class="learning-card" onclick="showPage('action-plan')">
                                    <h3>‚úÖ 5-Step Action Plan</h3>
                                    <p>Systematic approach to team coordination</p>
                                </div>
                            </div>

                            <!-- Strategy Tools -->
                            <h2 style="color: #f0e6d2; margin-bottom: 1.5rem;">Strategy Tools</h2>
                            <div class="tools-grid">
                                <div class="tool-card">
                                    <div class="tool-header">
                                        <div class="tool-icon">üé≠</div>
                                        <div class="tool-info">
                                            <h3>Draft Tool</h3>
                                            <p>Collaborative drafting</p>
                                        </div>
                                    </div>
                                    <div class="tool-description">
                                        Real-time collaborative draft preparation with tempo analysis and action wave planning.
                                    </div>
                                    <div class="tool-actions">
                                        <button class="tool-btn primary" onclick="showPage('draft')">Open Tool</button>
                                        <button class="tool-btn secondary" onclick="createQuickDraft()">New Room</button>
                                    </div>
                                </div>

                                <div class="tool-card">
                                    <div class="tool-header">
                                        <div class="tool-icon">üßÆ</div>
                                        <div class="tool-info">
                                            <h3>Wave Calculator</h3>
                                            <p>Action wave timing</p>
                                        </div>
                                    </div>
                                    <div class="tool-description">
                                        Calculate precise action wave timings for objectives with live game timer.
                                    </div>
                                    <div class="tool-actions">
                                        <button class="tool-btn primary" onclick="showPage('calculator')">Open Calculator</button>
                                        <button class="tool-btn secondary" onclick="startQuickTimer()">Quick Timer</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tempo Page -->
                    <div id="tempo-page" class="page hidden">
                        <button class="back-btn" onclick="showPage('dashboard')">‚Üê Back to Dashboard</button>
                        
                        <div class="page-header tempo-header">
                            <div class="page-header-icon">‚ö°</div>
                            <div>
                                <h1>Tempo Fundamentals</h1>
                                <p>Master the art of initiative and game pacing</p>
                            </div>
                        </div>

                        <div class="content-card">
                            <h2>What is Tempo?</h2>
                            <p><strong>Quick Definition:</strong> Having initiative - you act, they react</p>
                            <p><strong>Longer Definition:</strong> Tempo is who controls the pacing and timing of the game. When you have tempo, you can make proactive plays that force the enemy team to react to you. The team with tempo gets to choose the battlefield and timing, while the team without tempo must respond to threats rather than create them.</p>
                            
                            <h3>Key Rule: One Action for One Action</h3>
                            <ul>
                                <li>Kill enemy laner ‚Üí Push wave (uses up tempo advantage = back to even)</li>
                                <li>Stay for plates after kill = extra action ‚Üí Enemy gains tempo when you recall</li>
                            </ul>

                            <h3>How to Use Tempo Practically:</h3>
                            <ol>
                                <li>Roam to impact other lanes</li>
                                <li>Invade enemy jungle</li>
                                <li>Contest/Gain Vision in key areas</li>
                                <li>Set up Objective Play</li>
                            </ol>

                            <div style="background-color: #1e3a8a; padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                <h4 style="color: #93c5fd;">Core Concept Summary</h4>
                                <p style="color: #e5e7eb;">League is fundamentally a turn-based strategy game disguised as real-time action. Each player gets "turns" to act based on their wave states and positioning. Understanding this principle changes everything about how we approach the game.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Turns & Rounds Page -->
                    <div id="turns-page" class="page hidden">
                        <button class="back-btn" onclick="showPage('dashboard')">‚Üê Back to Dashboard</button>
                        
                        <div class="page-header turns-header">
                            <div class="page-header-icon">üéØ</div>
                            <div>
                                <h1>Turns & Rounds</h1>
                                <p>Master lane priority and timing windows</p>
                            </div>
                        </div>

                        <div class="content-card">
                            <h2>Key Definitions</h2>
                            
                            <h3>Lane Priority</h3>
                            <p>You gain lane priority when you have push/crash wave under enemy tower, essentially locking your opponent or making them lose gold & XP.</p>
                            
                            <h3>Turn</h3>
                            <p>When you have time before the next wave ‚Üí how you use your priority.</p>
                            
                            <h3>Rounds</h3>
                            <p>A round is the time between when you are fresh off base until your next reset.</p>

                            <h2>How to Use Your Turn</h2>
                            <ul>
                                <li>Pressure towers for plates (need vision protection)</li>
                                <li>Roam to another lane (vision control)</li>
                                <li>Invade jungle (deny gold/XP, set up dives)</li>
                                <li>Move for neutral objectives (requires setup)</li>
                                <li>Slow push for dive setup (requires setup)</li>
                            </ul>

                            <div style="background-color: #065f46; padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                <h4 style="color: #86efac;">Key Insight</h4>
                                <p style="color: #d1d5db;">League is about how you use your turns to do something that will either A) Connect yourself to the plan, B) Do something proactive, or C) get tempo. You can also get turn by catching second.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Action Waves Page -->
                    <div id="action-waves-page" class="page hidden">
                        <button class="back-btn" onclick="showPage('dashboard')">‚Üê Back to Dashboard</button>
                        
                        <div class="page-header waves-header">
                            <div class="page-header-icon">üìä</div>
                            <div>
                                <h1>Action Waves</h1>
                                <p>Coordinate team plays with minion waves</p>
                            </div>
                        </div>

                        <div class="content-card">
                            <h2>What Are Action Waves?</h2>
                            <p><strong>Short Definition:</strong> Action Wave = The specific minion wave that serves as your team's execution timer</p>
                            <p><strong>Longer Definition:</strong> Action Waves are your team's execution timer using minion waves as the countdown. Instead of saying "move at 4:45" while everyone is focused on farming and trading, you say "we go when wave 7 crashes."</p>

                            <h3>Why Waves Work Better Than Clock Time:</h3>
                            <ul>
                                <li>Players are already tracking minions for CS and lane management</li>
                                <li>Waves provide natural "ready checks" - if your wave isn't in the right position, you're not ready</li>
                                <li>Creates automatic coordination - when the wave moves, everyone moves</li>
                                <li>Accounts for travel time and positioning naturally</li>
                            </ul>

                            <h3>The 30-Second Metronome System</h3>
                            <p><strong>Basic Math:</strong></p>
                            <ul>
                                <li>Wave 1: Spawns at 1:30</li>
                                <li>Wave 2: Spawns at 2:00</li>
                                <li>Wave 3: Spawns at 2:30</li>
                                <li>Wave 4: Spawns at 3:00</li>
                                <li>And so on...</li>
                            </ul>

                            <h3>Calculating Your Action Wave:</h3>
                            <ol>
                                <li><strong>Step 1:</strong> Identify your objective time (Example: First Drake spawns at 5:00)</li>
                                <li><strong>Step 2:</strong> Determine when you need to be positioned (Usually 15-30 seconds before spawn - For Drake: Need to be positioned by 4:45)</li>
                                <li><strong>Step 3:</strong> Find which wave crashes around that time (4:45 = approximately when Wave 6-7 is moving/crashing)</li>
                                <li><strong>Step 4:</strong> Count backwards for setup (Wave 1-3: Early preparation, Wave 4-5: Active setup, Wave 6-7: Execute)</li>
                            </ol>

                            <div style="background-color: #581c87; padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                <h4 style="color: #c4b5fd;">Pro Tip</h4>
                                <p style="color: #e5e7eb;">The power of Action Waves is that they transform chaotic macro calls into precise coordination. Instead of five players trying to remember abstract timings while managing their lanes, everyone follows the same visual cue they're already watching.</p>
                            </div>
                        </div>
                    </div>

                    <!-- 5-Step Action Plan Page -->
                    <div id="action-plan-page" class="page hidden">
                        <button class="back-btn" onclick="showPage('dashboard')">‚Üê Back to Dashboard</button>
                        
                        <div class="page-header plan-header">
                            <div class="page-header-icon">‚úÖ</div>
                            <div>
                                <h1>5-Step Action Plan</h1>
                                <p>Systematic approach to team coordination</p>
                            </div>
                        </div>

                        <div class="content-card">
                            <h2>5-Step Action Plan</h2>
                            
                            <h3>Step 1: IDENTIFY (2 minutes before)</h3>
                            <p><strong>What is the plan?</strong></p>
                            <ul>
                                <li>Objective: [Tower/Baron/Dragon/Grubs/Vision/Camps]</li>
                                <li>Timing: When does it spawn/when do we want it?</li>
                                <li>Action Wave Calculation: Objective time - 30 seconds = Execute Wave</li>
                                <li>Setup Waves: Count backwards for preparation</li>
                            </ul>
                            <p><em>Example: 5:00 Dragon ‚Üí Execute on Wave 6 ‚Üí Setup starts at Wave 3-4</em></p>

                            <h3>Step 2: ASSIGN LANES (As soon as necessary)</h3>
                            <p><strong>What is every player's job in relation to the plan?</strong></p>
                            <p><strong>Distance Priority Rule:</strong></p>
                            <ul>
                                <li>Closest to Objective: Duo bot lane (shortest rotate)</li>
                                <li>Medium Distance: Mid + Jungle (flexible)</li>
                                <li>Furthest: Top lane (TP dependent)</li>
                            </ul>

                            <h3>Step 3: PREPARE LANES (1 minute before Execute Wave)</h3>
                            <p><strong>How is each player using their turn?</strong></p>
                            <ul>
                                <li>Duo: Push wave hard, get recall timing</li>
                                <li>Mid: Build priority for roam/support</li>
                                <li>Jungle: Clear camps near objective area</li>
                                <li>Top: Push for TP timing OR prep slow push</li>
                            </ul>

                            <h3>Step 4: VISION (1 minute to 30 seconds before)</h3>
                            <p><strong>Vision Control Phase</strong></p>
                            <ul>
                                <li>Support Job: Place key wards, deny enemy ward spots, control flanks</li>
                                <li>Jungle Job: Clear enemy vision, place defensive wards, set up ganking routes</li>
                            </ul>

                            <h3>Step 5: RE-PREPARE & MOVE (Final positioning)</h3>
                            <p><strong>What comms do we need to give us the highest chance of executing well?</strong></p>
                            <ul>
                                <li>40 seconds: If recalling from lane (need recall + walk time)</li>
                                <li>30 seconds: If walking from lane (direct rotate)</li>
                                <li>10 seconds: If already near objective (final positioning)</li>
                            </ul>

                            <div style="background-color: #0d9488; padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                                <h4 style="color: #5eead4;">Tempo Checks</h4>
                                <p style="color: #f0fdfa;"><strong>Before the objective (2 min to 45 sec before):</strong> Do we just want to take objective and leave? If they contest, do we turn and fight? If contested and we disengage, what do we trade?</p>
                                <p style="color: #f0fdfa;"><strong>At the objective (30 sec before to already on the objective):</strong> If we turn, who is the target? Where do we pull the objective? What tools do they have?</p>
                            </div>
                        </div>
                    </div>

                    <!-- Weekly Focus Page -->
                    <div id="weekly-page" class="page hidden">
                        <button class="back-btn" onclick="showPage('dashboard')">‚Üê Back to Dashboard</button>
                        
                        <div class="page-header weekly-header">
                            <div class="page-header-icon">üìÖ</div>
                            <div>
                                <h1>Weekly Focus Program</h1>
                                <p>6-week structured learning path</p>
                            </div>
                        </div>

                        <div class="content-card">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                                <div>
                                    <h2>Your Progress</h2>
                                    <p id="program-description">Each week builds on the previous foundations...</p>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 2rem; font-weight: bold; color: #10b981;" id="progress-percentage">0%</div>
                                    <div style="color: #9ca3af;">Complete</div>
                                </div>
                            </div>

                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 2rem;">
                                <div style="background-color: #1f2937; padding: 1rem; border-radius: 0.5rem; text-align: center;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #60a5fa;" id="completed-weeks">0/6</div>
                                    <div style="color: #9ca3af;">Completed</div>
                                </div>
                                <div style="background-color: #1f2937; padding: 1rem; border-radius: 0.5rem; text-align: center;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #10b981;" id="current-week-display">Week 1</div>
                                    <div style="color: #9ca3af;">Current</div>
                                </div>
                                <div style="background-color: #1f2937; padding: 1rem; border-radius: 0.5rem; text-align: center;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #f59e0b;" id="remaining-weeks">6</div>
                                    <div style="color: #9ca3af;">Remaining</div>
                                </div>
                            </div>

                            <!-- Admin Panel -->
                            <div id="admin-panel" class="admin-panel hidden">
                                <h3>Admin Controls</h3>
                                <div class="admin-controls">
                                    <div class="admin-status">
                                        Current Week: <span id="admin-current-week">1</span> | 
                                        Completed: <span id="admin-completed-count">0</span>
                                    </div>
                                    <button onclick="resetProgram()" class="btn btn-danger">Reset Program</button>
                                    <button id="back-week-btn" onclick="goBackWeek()" class="btn btn-warning" style="display: none;">‚Üê Back Week</button>
                                </div>
                            </div>

                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <button id="admin-toggle" onclick="toggleAdmin()" class="btn btn-warning">üîß Admin Mode</button>
                                <div id="admin-indicator" class="admin-active hidden">Admin Active</div>
                            </div>
                        </div>

                        <div id="weekly-challenges"></div>
                    </div>

                    <!-- Wave Calculator Page -->
                    <div id="calculator-page" class="page hidden">
                        <button class="back-btn" onclick="showPage('dashboard')">‚Üê Back to Dashboard</button>
                        
                        <div class="page-header calculator-header">
                            <div class="page-header-icon">üßÆ</div>
                            <div>
                                <h1>Wave Calculator</h1>
                                <p>Calculate precise action wave timings</p>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                            <div class="content-card">
                                <h2>Action Wave Calculator</h2>
                                <div class="form-group">
                                    <label class="form-label">Objective Time (MM:SS)</label>
                                    <input type="text" id="objective-time" class="form-input" placeholder="5:00" onchange="calculateActionWave()">
                                </div>
                                <button onclick="calculateActionWave()" class="btn btn-primary">Calculate</button>
                                
                                <div id="calc-results" class="calc-results hidden">
                                    <h3>Results</h3>
                                    <div class="calc-result-item result-execute">
                                        <span>Execute Wave:</span>
                                        <span id="execute-wave">Wave X</span>
                                    </div>
                                    <div class="calc-result-item result-time">
                                        <span>Execute Time:</span>
                                        <span id="execute-time">X:XX</span>
                                    </div>
                                    <div class="calc-result-item result-setup">
                                        <span>Setup Waves:</span>
                                        <span id="setup-waves">Waves X & Y</span>
                                    </div>
                                </div>
                            </div>

                            <div class="content-card">
                                <h2>Live Game Timer</h2>
                                <div class="timer-display" id="timer-display">0:00</div>
                                <div style="text-align: center; margin-bottom: 1rem;">
                                    <span style="color: #9ca3af;">Current Wave: </span>
                                    <span style="color: #60a5fa; font-weight: bold;" id="current-wave">1</span>
                                </div>
                                <div class="timer-controls">
                                    <button id="timer-btn" onclick="toggleTimer()" class="btn btn-success">Start</button>
                                    <button onclick="resetTimer()" class="btn btn-danger">Reset</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Draft Page -->
                    <div id="draft-page" class="page hidden">
                        <button class="back-btn" onclick="showPage('dashboard')">‚Üê Back to Dashboard</button>
                        
                        <div class="page-header" style="background: linear-gradient(to right, #1e3a8a, #7c3aed);">
                            <div class="page-header-icon">üé≠</div>
                            <div>
                                <h1>Draft Tool</h1>
                                <p>Collaborative team draft planning with real-time sync</p>
                            </div>
                        </div>

                        <div class="draft-container">
                            <div class="draft-main">
                                <!-- Room Management -->
                                <div class="draft-controls">
                                    <button onclick="handleCreateDraftRoomClick()" class="btn btn-primary">Create Room</button>
                                     <button onclick="handleJoinDraftRoomClick()" class="btn btn-secondary">Join Room</button>
                                    <button onclick="resetDraft()" class="btn btn-warning">Reset Draft</button>
                                    <button onclick="clearAll()" class="btn btn-danger">Clear All</button>
                                </div>

                                <!-- Room Status -->
                                <div class="draft-status">
                                    <div class="status-indicator">
                                        <div class="status-dot" id="connection-status"></div>
                                        <span id="connection-text">Not connected</span>
                                    </div>
                                </div>

                                <div id="room-info" class="room-info hidden">
                                    <div>Room Code: <span id="room-code" class="room-code"></span></div>
                                    <div style="font-size: 0.875rem; color: #9ca3af; margin-top: 0.5rem;">Share this code with your team</div>
                                </div>

                                <!-- Draft Phase -->
                                <div class="draft-phase">
                                    <!-- Blue Team -->
                                    <div class="team-section blue">
                                        <div class="team-title">Blue Team</div>
                                        <div style="margin-bottom: 1rem;">
                                            <h4 style="color: #93c5fd; margin-bottom: 0.5rem;">Bans</h4>
                                            <div class="ban-slots">
                                                <div class="ban-slot" data-team="blue" data-slot="0" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B1</div>
                                                <div class="ban-slot" data-team="blue" data-slot="1" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B2</div>
                                                <div class="ban-slot" data-team="blue" data-slot="2" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B3</div>
                                                <div class="ban-slot" data-team="blue" data-slot="3" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B4</div>
                                                <div class="ban-slot" data-team="blue" data-slot="4" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B5</div>
                                            </div>
                                        </div>
                                        <div>
                                            <h4 style="color: #93c5fd; margin-bottom: 0.5rem;">Picks</h4>
                                            <div class="champion-slots">
                                                <div class="champion-slot" data-team="blue" data-slot="0" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 1</span></div>
                                                <div class="champion-slot" data-team="blue" data-slot="1" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 2</span></div>
                                                <div class="champion-slot" data-team="blue" data-slot="2" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 3</span></div>
                                                <div class="champion-slot" data-team="blue" data-slot="3" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 4</span></div>
                                                <div class="champion-slot" data-team="blue" data-slot="4" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 5</span></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Red Team -->
                                    <div class="team-section red">
                                        <div class="team-title">Red Team</div>
                                        <div style="margin-bottom: 1rem;">
                                            <h4 style="color: #fca5a5; margin-bottom: 0.5rem;">Bans</h4>
                                            <div class="ban-slots">
                                                <div class="ban-slot" data-team="red" data-slot="0" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B1</div>
                                                <div class="ban-slot" data-team="red" data-slot="1" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B2</div>
                                                <div class="ban-slot" data-team="red" data-slot="2" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B3</div>
                                                <div class="ban-slot" data-team="red" data-slot="3" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B4</div>
                                                <div class="ban-slot" data-team="red" data-slot="4" data-type="ban" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;">B5</div>
                                            </div>
                                        </div>
                                        <div>
                                            <h4 style="color: #fca5a5; margin-bottom: 0.5rem;">Picks</h4>
                                            <div class="champion-slots">
                                                <div class="champion-slot" data-team="red" data-slot="0" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 1</span></div>
                                                <div class="champion-slot" data-team="red" data-slot="1" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 2</span></div>
                                                <div class="champion-slot" data-team="red" data-slot="2" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 3</span></div>
                                                <div class="champion-slot" data-team="red" data-slot="3" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 4</span></div>
                                                <div class="champion-slot" data-team="red" data-slot="4" data-type="pick" onclick="selectSlot(this)" oncontextmenu="clearSlot(this); return false;"><span>Pick 5</span></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Strategy Section -->
                                <div class="strategy-section">
                                    <div class="strategy-tabs">
                                        <button class="strategy-tab active" onclick="switchStrategyTab('game')">Game Plan</button>
                                        <button class="strategy-tab" onclick="switchStrategyTab('objectives')">Objectives</button>
                                        <button class="strategy-tab" onclick="switchStrategyTab('notes')">Notes</button>
                                    </div>
                                    
                                    <div id="game-strategy" class="strategy-content active">
                                        <input type="text" id="win-condition" class="strategy-input" placeholder="Win condition (e.g., Team fight at 25 min with 3 items)">
                                        <input type="text" id="enemy-weakness" class="strategy-input" placeholder="Enemy weakness to exploit">
                                    </div>
                                    
                                    <div id="objectives-strategy" class="strategy-content">
                                        <input type="text" id="drake-plan" class="strategy-input" placeholder="Drake plan & timing">
                                        <input type="text" id="herald-plan" class="strategy-input" placeholder="Herald plan & timing">
                                        <input type="text" id="custom-time" class="strategy-input" placeholder="Custom objective time (e.g., 15:30)">
                                        <input type="text" id="custom-plan" class="strategy-input" placeholder="Custom objective plan">
                                    </div>
                                    
                                    <div id="notes-strategy" class="strategy-content">
                                        <textarea id="draft-notes" class="strategy-input strategy-textarea" placeholder="Draft strategy notes..."></textarea>
                                        <textarea id="ban-notes" class="strategy-input strategy-textarea" placeholder="Ban reasoning..."></textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Champion Pool -->
                            <div class="champion-pool">
                                <div class="search-container">
                                    <input type="text" id="champion-search" class="search-input" placeholder="Search champions..." oninput="filterChampions()">
                                </div>
                                
                                <div class="role-filters">
                                    <button class="role-filter active" onclick="filterByRole('all')">All</button>
                                    <button class="role-filter" onclick="filterByRole('Top')">Top</button>
                                    <button class="role-filter" onclick="filterByRole('Jungle')">Jungle</button>
                                    <button class="role-filter" onclick="filterByRole('Mid')">Mid</button>
                                    <button class="role-filter" onclick="filterByRole('ADC')">ADC</button>
                                    <button class="role-filter" onclick="filterByRole('Support')">Support</button>
                                </div>
                                
                                <div id="champion-grid" class="champion-grid"></div>
                                <div id="champion-count" class="champion-count"></div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <!-- Firebase -->
    <script type="module" src="firebase-config.js"></script>
    <script src="script.js"></script>
</body>
</html>